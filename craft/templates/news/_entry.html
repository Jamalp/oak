{#
 # News entry template
 # -------------------
 #
 # This template gets loaded whenever a News entry’s URL is
 # requested. That’s because the News section’s Template setting is
 # set to “news/_entry”, the path to this template.
 #
 # When this template is loaded, it will already have an ‘entry’
 # variable, set to the requested News entry.
 #
 # See this page for more details on how Craft routes requests:
 # http://craftcms.com/docs/routing
 #}

{% extends "_layout" %}
{% block content %}

	<article>
		<h1>{{ entry.title }}</h1>
		<p>Posted on {{ entry.postDate.format('F d, Y') }}</p>
		{{ entry.body }}

    {% for block in entry.post %}
      {% if block.type == "copy" %}
        <p>{{ block.copy.paragraph }}</p>
      {% endif %}

      {% if block.type == "image" %}
        {% set image = block.image.first() %}
        {% if image %}
           <img src="{{ image.getUrl() }}" width="{{ image.getWidth() }}" height="{{ image.getHeight() }}" alt="{{ image.title }}">
        {% endif %}
      {% endif %}

      {% if block.type == "imageGroup" %}

      <div style="display:flex;">
        {% for image in block.row %}
        {% if image %}
          <div style="width:33.33%;">
           <img style="display:block;width:100%;margin:0 auto;" src="{{ image.getUrl() }}" alt="{{ image.title }}">
          </div>
        {% endif %}
        {% endfor %}
      </div>
      {% endif %}
    {% endfor %}

    {% set entries = entry.recipes %}
    {% if entries | length %}

        <h3>Some great entries</h3>
        {% for entry in entries %}
            <h1>{{entry.title}}</h1>
            {{entry.richText}}
        {% endfor %}

    {% endif %}

	</article>
{% endblock %}
